<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>Iws</groupId>
  <artifactId>orderService</artifactId>
  <packaging>war</packaging>
  <version>1.0-SNAPSHOT</version>
  <build>
    <resources>
      <resource>
        <directory>src/main/java</directory>
        <excludes>
          <exclude>**/*.java</exclude>
        </excludes>
      </resource>
      <resource>
        <directory>src/main/resources</directory>
      </resource>
    </resources>
    <finalName>Order</finalName>
    <plugins>
      <plugin>
        <artifactId>maven-war-plugin</artifactId>
        <version>3.2.3</version>
        <configuration>
          <webResources>
            <resource>
              <directory>src/main/webapp/META-INF</directory>
              <filtering>true</filtering>
              <targetPath>META-INF</targetPath>
            </resource>
          </webResources>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <version>3.2.1</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <transformers>
                <transformer>
                  <mainClass>foo.bar.Generate</mainClass>
                  <manifestEntries>
                    <Multi-Release>true</Multi-Release>
                  </manifestEntries>
                </transformer>
                <transformer />
              </transformers>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.jooq</groupId>
        <artifactId>jooq-codegen-maven</artifactId>
        <version>3.12.3</version>
        <executions>
          <execution>
            <goals>
              <goal>generate</goal>
            </goals>
          </execution>
        </executions>
        <dependencies>
          <dependency>
            <groupId>org.postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>9.4.1212</version>
          </dependency>
        </dependencies>
        <configuration>
          <jdbc>
            <driver>org.postgresql.Driver</driver>
            <url>jdbc:postgresql://localhost:5432/iws</url>
            <user>iws</user>
            <password>iws</password>
          </jdbc>
          <generator>
            <database>
              <name>org.jooq.meta.postgres.PostgresDatabase</name>
              <includes>.*</includes>
              <excludes />
              <inputSchema>iws</inputSchema>
            </database>
            <generate>
              <relations>true</relations>
              <deprecated>true</deprecated>
              <instanceFields>true</instanceFields>
              <generatedAnnotation>true</generatedAnnotation>
              <records>true</records>
              <pojos>true</pojos>
              <immutablePojos>false</immutablePojos>
              <interfaces>false</interfaces>
              <daos>true</daos>
              <jpaAnnotations>false</jpaAnnotations>
              <validationAnnotations>false</validationAnnotations>
            </generate>
            <target>
              <packageName>org.jooq.codegen.maven.example</packageName>
              <directory>target/generated-sources/jooq</directory>
            </target>
          </generator>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>2.22.2</version>
        <configuration>
          <skipTests>false</skipTests>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.flywaydb</groupId>
        <artifactId>flyway-maven-plugin</artifactId>
        <version>${flyway.version}</version>
        <dependencies>
          <dependency>
            <groupId>org.postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>${postgres.driver.version}</version>
          </dependency>
        </dependencies>
        <configuration>
          <sqlMigrationSeparator>__</sqlMigrationSeparator>
          <locations>
            <location>filesystem:src/main/resources/migration</location>
          </locations>
          <url>jdbc:postgresql://localhost:5432/iws</url>
          <user>iws</user>
          <password>iws</password>
          <schemas>
            <defaultSchema>iws</defaultSchema>
          </schemas>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <profiles>
    <profile>
      <id>iws</id>
      <properties>
        <database.username>${project.context}</database.username>
        <database.schema>iws</database.schema>
        <database.password>${project.context}</database.password>
        <database.url>jdbc:postgresql://localhost:5432/${project.context}</database.url>
        <project.context>iws</project.context>
      </properties>
    </profile>
  </profiles>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <version>8.0</version>
      <scope>provided</scope>
      <exclusions>
        <exclusion>
          <artifactId>javax.mail</artifactId>
          <groupId>com.sun.mail</groupId>
        </exclusion>
      </exclusions>
    </dependency>
  </dependencies>
  <properties>
    <jakarta.xml.bind-api.version>2.3.2</jakarta.xml.bind-api.version>
    <flyway.version>6.1.3</flyway.version>
    <maven.compiler.source>1.10</maven.compiler.source>
    <jaxb-runtime.version>2.3.2</jaxb-runtime.version>
    <jaxrs.version>2.1.1</jaxrs.version>
    <javaee-api.version>8.0</javaee-api.version>
    <httpclient.version>4.5.10</httpclient.version>
    <version.jersey>2.29.1</version.jersey>
    <version.jooq>3.12.3</version.jooq>
    <postgres.driver.version>42.2.9</postgres.driver.version>
    <maven.compiler.target>1.10</maven.compiler.target>
    <gson.version>2.8.6</gson.version>
    <slf4j-log4j12.version>1.7.30</slf4j-log4j12.version>
    <log4j.version>2.8</log4j.version>
    <version.postgres>42.2.9</version.postgres>
    <quartz.version>2.3.2</quartz.version>
  </properties>
</project>
